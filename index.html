<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrainQuest</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: Arial, sans-serif;
            overflow: hidden;
            background: url(Assets/background.gif) no-repeat center center/cover;
        }
        #story {
            position: relative;
            width: 100vw;
            height: 100vh;
            background: url(Assets/background.gif) no-repeat center center/cover;
            overflow: hidden;
        }
      /* Popup box */
      .popup-message {
    position: fixed;
    top: 30%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 20px 40px;
    border-radius: 10px;
    font-size: 20px;
    text-align: center;
    z-index: 1000;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
}


/* Optional: smooth pop-in animation */
@keyframes popin {
    from { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
    to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
}

/* Popup image */
.popup-message .popup-image {
    width: 100px; /* Control image size */
    height: auto;
    display: block;
    margin: 10px auto 0; /* Space between text and image */
}



       /* Camera Overlay Section */
    #camera-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background-color: white;
      display: none;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      gap: 20px;
      z-index: 999;
    }

    #camera {
      width: 300px;
      height: 300px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
    }
    #captured-image-wrapper {
  position: absolute;
  bottom: 60px;
  left: 10px;
  width: 80px; /* Size of the circle */
  height: 80px;
  border: 3px solid white;
  border-radius: 50%; /* Makes it a circle */
  overflow: hidden; /* Hide outside parts */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  z-index: 500;
  background: white; /* Optional background for contrast */
}

#captured-image {
  width: 100%;
  height: 100%;
  object-fit: cover; /* Crop to fill the circle */
  object-position: center top; /* Focus on upper part, like face */
}



/* Map section */
#map {
      position: absolute;
      top: 0;
      left: 0;
      width: 1152px; /* Map image width */
      height: 648px; /* Map image height */
      background: url(Assets/map.gif) no-repeat center center;
      background-size: cover;
      transition: transform 0.1s ease-out;
    }

/* Map takes full space */
    .map-container {
      width: 100%;
      height: 100%;
      position: relative;
      cursor: grab;
      overflow: hidden;
    }


/* Houses */
.house {
    width: auto;
    height: auto;
    background: #ffffff00;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    position: absolute;
    transition: transform 0.2s;
}

.locked {
    cursor: not-allowed;
    opacity: 0.7;
}

.house.unlocked img {
    filter: drop-shadow(0 0 5px gold);
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% { filter: drop-shadow(0 0 5px gold); }
    50% { filter: drop-shadow(0 0 15px gold); }
    100% { filter: drop-shadow(0 0 5px gold); }
}

.house:hover {
    transform: scale(1.1);
}



/* House positions */
#house1 { bottom: 23%; left: 3%; }
#easyhouse1 { bottom: 22%; left: 11.5%; }
#easyhouse2 { bottom: 22%; left: 22.5%; }
#easyhouse3 { bottom: 15%; left: 32%; }
#easyhouse4 { bottom: 5%; left: 42.5%; }
#easyhouse5 { bottom: 3%; left: 57%; }
#house2 { bottom: 3%; right: 24%; }
#ehouse1 { bottom: 3%; right: 12%; }
#ehouse2 { bottom: 18%; right: 3%; }
#ehouse3 { bottom: 35%; right: 3%; }
#ehouse4 { bottom: 40%; right: 16%; }
#ehouse5 { bottom: 35%; right: 27%; }
#house3 { bottom: 32%; right: 37%; }
#medhouse1 { bottom: 35%; right: 46%; }
#medhouse2 { bottom: 40%; left: 39%; }
#medhouse3 { bottom: 37%; left: 27.5%; }
#medhouse4 { bottom: 40%; left: 17.5%; }
#medhouse5 { bottom: 42%; left: 7%; }
#house4 { top: 30%; left: 2%; }
#mediumhouse1 { top: 14%; left: 8.5%; }
#mediumhouse2 { top: 8%; left: 17%; }
#mediumhouse3 { top: 7%; left: 25%; }
#mediumhouse4 { top: 15%; left: 31.5%; }
#mediumhouse5 { top: 23%; left: 38%; }
#house5 { top: 10%; left: 46.5%; }
#hardhouse1 { top: 8%; right: 38%; }
#hardhouse2 { top: 12%; right: 28%; }
#hardhouse3 { top: 25%; right: 20%; }
#hardhouse4 { top: 16%; right: 10%; }
#hardhouse5 { top: 8%; right: 3%; }


/* Leaderboard styling */
#leaderboard {
      width: 170px;
      height: 100vh;
      position: fixed;
      right: 0;
      top: 0;
      background: rgba(197, 245, 213, 0.95);
      border-left: 1px solid #c3f8d009;
      padding: 20px;
      overflow-y: auto;
      z-index: 15;
}

#leaderboard h2 {
    margin-bottom: 10px;
    color: #1d8d01;
}

#leaderboard ol {
    list-style: decimal inside;
    padding: 0;
}

#leaderboard li {
    padding: 8px;
    margin-bottom: 8px;
    background: white;
    border-radius: 4px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    #map {
        width: 100vw;
    }
    #leaderboard {
        display: none; /* Hide leaderboard on small screens */
    }
}

@media (max-width: 480px) {
    .map-container {
        width: 100vw;
        height: 70vh;
        background-size: cover;
    }
}
/* From Uiverse.io by krlozCJ */ 
button {
  border: none;
  outline: none;
  background-color: #beb6fda6;
  padding: 10px 20px;
  font-size: 12px;
  font-weight: 700;
  color: #fff;
  border-radius: 5px;
  transition: all ease 0.1s;
  box-shadow: 0px 5px 0px 0px #350108;
}

button:active {
  transform: translateY(5px);
  box-shadow: 0px 0px 0px 0px #350108;
}
option {
    display: inline-block;
    width: 500px; /* Set width based on the longest option */
    min-height: 60px; /* Optional: make all same height */
    margin: 10px;
    padding: 10px 15px;
    background-color: #ff6b6b;
    color: white;
    border: none;
    border-radius: 12px;
    text-align: center;
    font-size: 16px;
    line-height: 1.4;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
    white-space: normal; /* Allow text wrap */
    overflow-wrap: break-word;
}

option:hover {
    background-color: #FF8787;
    transform: scale(1.05);
}

option:active {
    background-color: #FF4C4C;
    transform: scale(0.98);
}
                .start-btn {
                    position: absolute;
                    bottom: 15%;
                    right: 5%;
                    background-color: #fc5658;
                    color: white;
                    border: solid 2px black;
                    padding: 10px 20px;
                    font-size: 18px;
                    border-radius: 20px;
                    cursor: pointer;
                    transition: 0.3s;
                }
        
                .start-btn:hover {
                    background-color: darkred;
                }
        input {
            position: absolute;
            padding: 10px;
            font-size: 18px;
            height: 30px;
            border-radius: 20px;
            border: solid 2px black;
            text-align: center;
            outline: none;
            background-color: #efdbb9;
            top: 50%;
            left: 41%;
        }
        .face {
            position: absolute;
            bottom: 10%;
            left: 47%;
            display: block;
            margin: 20px auto;
            width: 100px;
            cursor: pointer;
            border-radius: 50px;
        }
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        @font-face {
            font-family: 'Boorsok';
            src: url(Font/boorsok.otf);
        }
        .welcome-message {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translate(-50%, -50%);
            align-items: center;
            text-align: center;
            font-size: 150px;
            font-weight: bold;
            line-height: 0.8;
            letter-spacing: 2px;
            font-family: 'Boorsok', sans-serif;
            color: #ffdede;
            text-shadow: 4px 4px 6px rgba(0, 0, 0, 0.3), 0 0 15px #ff69b4, 0 0 30px #ff1493;
            animation: blink 1.5s infinite alternate;
            white-space: nowrap;
        }
       
        #question-content h3 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    .mechanics {
    position: absolute;
    top: 55%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 18px;
    line-height: 1.8;
    color: #333;
    background: rgba(255, 255, 255, 0.3); /* Soft white with transparency */
    padding: 30px 40px;
    border-radius: 20px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    width: 600px; /* Fixed width */
    max-width: 90%; /* Responsive for small screens */
    backdrop-filter: blur(10px); /* Frosted glass effect */
    text-align: center;
}



.mechanics p {
    margin: 12px 0;
    font-weight: 500;
    color: #333;
}

.mechanics button {
    padding: 12px 35px;
    margin-top: 20px;
    background: linear-gradient(135deg, #ff416c, #ff4b2b);
    color: white;
    border: none;
    border-radius: 50px;
    font-size: 1.2rem;
    cursor: pointer;
    transition: 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.mechanics button:hover {
    background: linear-gradient(135deg, #ff4b2b, #ff416c);
    transform: scale(1.05);
}

/* Optional: Media query for smaller screens */
@media (max-width: 600px) {
    .mechanics {
        width: 90%; /* Adjust width on small screens */
        padding: 20px;
    }

    .mechanics h1 {
        font-size: 2rem;
    }
}
/* Center story container properly */
.story-container {
    position: absolute;
    top: 60%; /* Center vertically */
    left: 50%; /* Center horizontally */
    transform: translate(-50%, -50%);
    font-size: 18px;
    line-height: 1.8;
    width: 85%; /* Slightly narrower for better balance */
    max-width: 800px;
    max-height: 70vh; /* Adjusted for better vertical spacing */
    color: #080808;
    background: rgba(255, 255, 255, 0.4); /* Slightly more transparent */
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
    overflow-y: auto; /* Scroll if overflow */
    backdrop-filter: blur(12px); /* Enhanced blur */
    text-align: center;
    box-sizing: border-box;
}

/* Story text */
.story-container p {
    font-size: 18px;
    color: #0c0c0c;
    line-height: 1.6;
    margin-bottom: 16px;
}

/* Buttons inside story */
.story-container button {
    background-color: #ff6f61;
    color: white;
    border: none;
    padding: 12px 24px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 8px;
    margin-top: 20px;
    transition: background-color 0.3s ease;
}

.story-container button:hover {
    background-color: #e65c50;
}


        /* Media Queries for responsiveness */
        @media (max-width: 768px) {
            .map-container {
                width: 90%;
                height: auto;
            }

            .house {
                width: 40px;
                height: 40px;
                line-height: 40px;
                margin: 5px;
            }

            .start-btn {
                bottom: 10%;
                right: 5%;
                padding: 8px 16px;
                font-size: 16px;
            }
            .welcome-message {
                font-size: 70px;
            }
        
            input {
                width: 80%;
                left: 10%;
                top: 40%;
            }

            .face {
                bottom: 5%;
                left: 40%;
                width: 80px;
            }
        }

        @media (max-width: 480px) {
            .house {
                width: 30px;
                height: 30px;
                line-height: 30px;
                margin: 3px;
            }

            .start-btn {
                bottom: 5%;
                right: 5%;
                padding: 6px 12px;
                font-size: 14px;
            }
            .welcome-message {
                font-size: 90px;
            }
            input {
                width: 90%;
                left: 5%;
                top: 35%;
            }

            .face {
                bottom: 5%;
                left: 35%;
                width: 60px;
            }
        }
        /* By default, hide all containers */
        .container {
            display: none;
            position: relative;
            height: 100vh;
            width: 100vw;
            overflow: auto;
        }

        /* Only active container is visible */
        .container.active {
            display: block;
        }

        /* Optional: fix main-container layout */
        .main-container {
            display: flex;
            height: 100%;
        }
         /* Floating Button */
 /* Menu button */
.menu-button {
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 22px;
    cursor: pointer;
    z-index: 100;
    transition: background 0.3s ease;
}

.menu-button:hover {
    background: rgba(0, 0, 0, 0.7);
}

/* Popup Menu */
.popup-menu {
    position: absolute;
    top: 60px;
    right: 20px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    padding: 10px;
    display: none; /* Hidden by default */
    z-index: 101;
}

.popup-menu button {
    display: block;
    background: none;
    border: none;
    padding: 10px 15px;
    width: 100%;
    text-align: left;
    font-size: 16px;
    cursor: pointer;
    color: #333;
    transition: background 0.3s ease;
}

.popup-menu button:hover {
    background: rgba(0, 0, 0, 0.1);
}


/* Optional: Add animation effect */
@keyframes popIn {
    from {
        transform: scale(0.9);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

    </style>
</head>
<body>
    
    <!--Audios-->
    <audio id="backgroundMusic" src="bgmusic.mp3" loop></audio>
   <!-- PAGE 1: Welcome -->
 <div id="welcome" class="container active">
       <button id="musicToggle" style="position: absolute; bottom: 10px; right: 10px;" onclick="toggleMusic()">🎵</button>
    <div class="welcome-message">WELCOME TO <br>BRAINQUEST!</div>
    <input type="text" id="playerName" placeholder="Enter your name">
    <img src="face.png" alt="Face ID" class="face" onclick="openCamera()">
    <button onclick="validateAndProceed()" class="start-btn">Start</button>
  </div>

  <!-- Camera Overlay -->
  <div id="camera-overlay">
    <video id="camera" autoplay playsinline></video>
    <button onclick="captureFaceID()">Capture Face ID</button>
    <button onclick="closeCamera()" style="background-color: gray;">Cancel</button>
  </div>

<!-- PAGE 2: Mechanics -->
<div id="mechanics" class="container">
    <button id="musicToggle" style="position: absolute; bottom: 10px; right: 10px;" onclick="toggleMusic()">🎵</button>

    <!-- From Uiverse.io by karthik092726122003 --> 

  
    <h1 class="welcome-message" style="position: absolute; top: -5%;">Mechanics</h1>
    <div class="mechanics">
        <p>Start Your Journey! 🚶‍♂️💨 Begin at the first Stop and follow the adventure.</p>
        <p>Read & Think! 📖🧐 Each Stop has a story—read carefully to understand it!</p>
        <p>Solve & Earn Stars! ⭐✨ Correct answers give you 2 stars!</p>
        <p>Unlock the Next Stop! 🔓🚦 Finish each Stop to move forward.</p>
        <p>Reach the Final Stop! 🏆🔍 Uncover the big mystery!</p>
        <p>Let the adventure begin! 🚀🎉</p>
    </div>
    <button class="start-btn" onclick="nextPage('map')">Play</button>
</div>

<!-- PAGE 3: Game Map -->
 <!-- Back Button -->
 <div id="map" class="container">
     <div class="main-container">
        <!-- Game Map -->
            <div class="map-container">
                <button class="menu-button" onclick="toggleMenu()" style="position: absolute; bottom: 10px; right: 10px;">☰</button>

                <!-- Popup Menu (Hidden by Default) -->
                <div class="popup-menu" id="popupMenu">
                    <button onclick="goHome()">🏠 Home</button>
                    <button onclick="goBackToMap()">🗺️ Back to Map</button>
                    <button id="musicToggle" onclick="toggleMusic()">🎵 Toggle Music</button>
                </div>


                <!--Easy house 1-->
                <div class="house unlocked" id="house1" onclick="startStory(1)">
                    <img src="Storyhouse.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="easyhouse1" onclick="if (!this.classList.contains('locked')) startQuestions(1,0)">
                    <img src="easyhouse1.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="easyhouse2" onclick="if (!this.classList.contains('locked')) startQuestions(1,1)">
                    <img src="easyhouse1.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="easyhouse3" onclick="if (!this.classList.contains('locked')) startQuestions(1,2)">
                    <img src="easyhouse1.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="easyhouse4" onclick="if (!this.classList.contains('locked')) startQuestions(1,3)">
                    <img src="easyhouse1.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="easyhouse5" onclick="if (!this.classList.contains('locked')) startQuestions(1,4)">
                    <img src="easyhouse1.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <!--Easy house 2-->
                <div class="house locked" id="house2" onclick="if (!this.classList.contains('locked')) startStory(2)">
                    <img src="Storyhouse.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="ehouse1" onclick="if (!this.classList.contains('locked')) startQuestions(2,0)">
                    <img src="easyhouse2.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="ehouse2" onclick="if (!this.classList.contains('locked')) startQuestions(2,1)">
                    <img src="easyhouse2.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="ehouse3" onclick="if (!this.classList.contains('locked')) startQuestions(2,2)">
                    <img src="easyhouse2.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="ehouse4" onclick="if (!this.classList.contains('locked')) startQuestions(2,3)">
                    <img src="easyhouse2.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="ehouse5" onclick="if (!this.classList.contains('locked')) startQuestions(2,4)" >
                    <img src="easyhouse2.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                 <!--Medium house 1-->
                <div class="house locked" id="house3" onclick="if (!this.classList.contains('locked')) startStory(3)">
                <img src="Storyhouse.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="medhouse1" onclick="if (!this.classList.contains('locked')) startQuestions(3,0)">
                <img src="mediumhouse1.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="medhouse2" onclick="if (!this.classList.contains('locked')) startQuestions(3,1)">
                <img src="mediumhouse1.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="medhouse3" onclick="if (!this.classList.contains('locked')) startQuestions(3,2)">
                <img src="mediumhouse1.png" alt="StoryHouse 1" style="width: 50px; height: 60px; object-fit: cover;">
                </div>
                <div class="house locked" id="medhouse4" onclick="if (!this.classList.contains('locked')) startQuestions(3,3)">
                <img src="mediumhouse1.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="medhouse5" onclick="if (!this.classList.contains('locked')) startQuestions(3,4)">
                <img src="mediumhouse1.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div> 
                <!--Medium house 2-->
                <div class="house locked" id="house4" onclick="if (!this.classList.contains('locked')) startStory(4)">
                <img src="Storyhouse.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="mediumhouse1" onclick="if (!this.classList.contains('locked')) startQuestions(4,0)">
                <img src="mediumhouse2.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="mediumhouse2" onclick="if (!this.classList.contains('locked')) startQuestions(4,1)">
                <img src="mediumhouse2.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="mediumhouse3" onclick="if (!this.classList.contains('locked')) startQuestions(4,2)">
                <img src="mediumhouse2.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="mediumhouse4" onclick="if (!this.classList.contains('locked')) startQuestions(4,3)">
                <img src="mediumhouse2.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="mediumhouse5" onclick="if (!this.classList.contains('locked')) startQuestions(4,4)">
                <img src="mediumhouse2.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>    
                <!--hard house-->
                <div class="house locked" id="house5" onclick="if (!this.classList.contains('locked')) startStory(5)">
                <img src="Storyhouse.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="hardhouse1" onclick="if (!this.classList.contains('locked')) startQuestions(5,0)">
                <img src="hardhouse.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="hardhouse2" onclick="if (!this.classList.contains('locked')) startQuestions(5,1)">
                <img src="hardhouse.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="hardhouse3" onclick="if (!this.classList.contains('locked')) startQuestions(5,2)">
                <img src="hardhouse.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="hardhouse4" onclick="if (!this.classList.contains('locked')) startQuestions(5,3)">
                <img src="hardhouse.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>
                <div class="house locked" id="hardhouse5" onclick="if (!this.classList.contains('locked')) startQuestions(5,4)">
                <img src="hardhouse.png" alt="StoryHouse 1" style="width: 50px; height: 70px; object-fit: cover;">
                </div>



                <!-- Display Captured Image on Map -->
                <div id="captured-image-wrapper">
                    <img id="captured-image" src="" alt="Your Face ID">
                </div>
        </div>
    
        <!-- Leaderboard -->
        <div id="leaderboard">
            <h2>Leaderboard</h2>
            <ol id="leaderboard-list">
                <!-- Player entries will be dynamically arranged here -->
                <li data-points="400">Player 2 - 400 pts</li>
                <li data-points="300">Player 3 - 300 pts</li>
            </ol>
        </div>

    </div>
</div>

<!-- PAGE 4: Story and Questions -->
<div id="story" class="container">
    <h1 class="welcome-message" style="position: absolute; top: -2%;">Story</h1>
    <div class="story-container">
        <div id="story-content"></div>
        <div id="question-content"></div>
    </div>
      <!-- Floating Menu Button -->
      <button class="menu-button" onclick="toggleMenu()">☰</button>

      <!-- Popup Menu (Hidden by Default) -->
      <div class="popup-menu" id="popupMenu">
          <button onclick="goHome()">🏠 Home</button>
          <button onclick="goBackToMap()">🗺️ Back to Map</button>
          <button id="musicToggle" onclick="toggleMusic()">🎵 Toggle Music</button>
      </div>
</div>


    <script>

   let isMusicPlaying = false;

function toggleMusic() {
    const music = document.getElementById('backgroundMusic');
    const musicToggleBtn = document.getElementById('musicToggle');

    if (!music) {
        console.error("Music element not found!");
        return;
    }

    if (isMusicPlaying) {
        music.pause();
        musicToggleBtn.textContent = "🔇"; // Update icon when paused
    } else {
        music.play();
        musicToggleBtn.textContent = "🎵"; // Update icon when playing
    }

    isMusicPlaying = !isMusicPlaying; // Toggle state
}

//#region Navigations
    function goBackToMap() {
    // Hide all sections/pages first
    document.getElementById('map').style.display = 'block'; // Show map
    document.getElementById('story').style.display = 'none'; // Assuming story page has this ID
    // Hide popup menu if open
    document.getElementById('popupMenu').style.display = 'none';
    document.getElementById('leaderboard').style.display = 'block';
    document.getElementById('captured-image').style.display = 'block';

}

function toggleMenu() {
    const menu = document.getElementById("popupMenu");
    menu.style.display = (menu.style.display === "block") ? "none" : "block";
}
//#endregion


//#region  Leaderboards and entry name
        let playerNameGlobal = "";
        let leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || []; // Load leaderboard from localStorage

        // Function to validate name and proceed
function validateAndProceed() {
    const playerNameInput = document.getElementById('playerName');
    const playerName = playerNameInput.value.trim();

    if (playerName === "") {
        alert("Please enter your name to proceed.");
        return;
    }

    playerNameGlobal = playerName;

    // Check if player already exists
    let existingPlayer = leaderboard.find(player => player.name === playerName);
    if (!existingPlayer) {
        leaderboard.push({ name: playerName, points: 0 }); // Initialize at 0 pts
        saveLeaderboard(); // Save to localStorage
    }

    updateLeaderboardUI(); // Show leaderboard
    nextPage('mechanics'); // Proceed to next screen
}
// Function to add points when answer is correct
function addPointsForCorrectAnswer() {
    addPoints(2); // Add 2 points per correct answer
}

// General function to add points
function addPoints(points) {
    let player = leaderboard.find(p => p.name === playerNameGlobal);
    if (player) {
        player.points += points;
    } else {
        leaderboard.push({ name: playerNameGlobal, points: points }); // If somehow missing
    }

    leaderboard.sort((a, b) => b.points - a.points); // Sort leaderboard
    saveLeaderboard(); // Save updates to localStorage
    updateLeaderboardUI(); // Refresh display
}
function removePlayerByName(nameToRemove) {
    // Filter out the player to be removed
    leaderboard = leaderboard.filter(player => player.name !== nameToRemove);

    // Save updated leaderboard to localStorage
    saveLeaderboard();

    // Refresh the leaderboard display
    updateLeaderboardUI();
}
// Function to update the leaderboard UI
function updateLeaderboardUI() {
    const leaderboardList = document.getElementById('leaderboard-list');
    leaderboardList.innerHTML = ''; // Clear current list

    leaderboard.forEach(player => {
        const listItem = document.createElement('li');
        listItem.textContent = `${player.name} - ${player.points} pts`;
        leaderboardList.appendChild(listItem);
    });
}
// Save leaderboard to localStorage
function saveLeaderboard() {
    localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
}
// Optional: If you want to sort leaderboard UI elements (but not recommended because JS sort already does this)
function sortLeaderboard() {
    const leaderboardList = document.getElementById('leaderboard-list');
    const players = Array.from(leaderboardList.querySelectorAll('li'));

    // Sort descending by data-points (if you are using data-points attribute)
    players.sort((a, b) => parseInt(b.dataset.points) - parseInt(a.dataset.points));

    leaderboardList.innerHTML = ''; // Clear list
    players.forEach(player => leaderboardList.appendChild(player)); // Append sorted
}
window.onload = updateLeaderboardUI;
function setPlayerName() {
    const nameInput = document.getElementById("playerName");
    playerNameGlobal = nameInput.value.trim() || "Player";
}
//#endregion

//#region  nextpage
function nextPage(pageId) {
    // Hide all containers
    const containers = document.querySelectorAll('.container');
    containers.forEach(container => container.classList.remove('active'));

    // Show selected page
    document.getElementById(pageId).classList.add('active');
}

//#endregion

//#region Camera
    const video = document.getElementById('camera');
    const cameraOverlay = document.getElementById('camera-overlay');
    let stream;

    // Open camera with white background
    function openCamera() {
      cameraOverlay.style.display = 'flex';
      navigator.mediaDevices.getUserMedia({ video: true })
        .then(mediaStream => {
          stream = mediaStream;
          video.srcObject = stream;
        })
        .catch(error => {
          console.error('Error accessing camera:', error);
          alert('Cannot access camera. Please check permissions.');
          cameraOverlay.style.display = 'none';
        });
    }

    // Close camera and go back to welcome
    function closeCamera() {
      if (stream) {
        stream.getTracks().forEach(track => track.stop());
      }
      cameraOverlay.style.display = 'none';
    }

    // Capture the face image and display on map
    function captureFaceID() {
    const canvas = document.createElement('canvas');
    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;
    const context = canvas.getContext('2d');
    context.drawImage(video, 0, 0, canvas.width, canvas.height);
    const imageData = canvas.toDataURL('image/png');

    console.log("Captured Image Data:", imageData); // For checking the data URL

    // Set captured image to the placeholder
    const capturedImage = document.getElementById('captured-image');
    capturedImage.src = imageData;

    closeCamera(); // Close camera after capture
    // Optionally remove alert and just show image
    // alert("Face ID captured successfully!"); 
    }

//#endregion
       

//#region  Map and Questions

function startStory(storyNumber) {
    const storyContainer = document.getElementById("story-content"); // Correct ID

    if (!storyContainer) {
        console.error("story-content div not found.");
        return;
    }
    if (!stories[storyNumber]) {
        console.error("Story not found for index:", storyNumber);
        return;
    }

    // Display the story content
    storyContainer.innerHTML = stories[storyNumber];
    storyContainer.style.display = 'block';

    // Show story section
    document.getElementById('story').style.display = 'block';

    // Hide other sections
    document.getElementById('question-content').style.display = 'none';
    document.getElementById('captured-image-wrapper').style.display = 'none';
    document.getElementById('leaderboard').style.display = 'none';

    // Unlock next house when story 1 is viewed (for example)
    if (storyNumber === 1) {
        unlockHouse('easyhouse1'); // Unlock easyhouse1 after reading story 1
    }
}

let currentQuestions = [];
let currentQuestionIndex = 0;
let score = 0;
let currentHouse = 1; // Start at House 1
let currentStory = 0;
let currentQuestionNumber = 0;
let completedQuestions = {}; // Example: { '1_0': true, '2_3': true } means story 1 question 0, story 2 question 3 done

let questionsAnsweredInCurrentStory = 0;


function startQuestions(storyNumber, questionNumber) {
    currentStory = storyNumber;
    currentQuestionNumber = questionNumber;

    const questionData = AllQuestions[storyNumber][questionNumber]; // Single question for that house
    let questionContainer = document.getElementById("question-content");

    let optionsHtml = "";
    questionData.options.forEach((opt, idx) => {
        optionsHtml += `<button onclick="checkAnswer(${idx})">${opt}</button><br>`;
    });

    questionContainer.innerHTML = `
        <h3>${questionData.q}</h3>
        ${optionsHtml}
    `;
    questionContainer.classList.add('fade-in');

    // Show question, hide others
    document.getElementById('story').style.display = 'block';
    document.getElementById('story-content').style.display = 'none';
    document.getElementById('captured-image-wrapper').style.display = 'none';
    document.getElementById('leaderboard').style.display = 'none';
    questionContainer.style.display = 'block';
}

function checkAnswer(selectedIndex) {
    const questionData = AllQuestions[currentStory][currentQuestionNumber];
    const questionKey = currentStory + '_' + currentQuestionNumber;

    // Check answer
    if (selectedIndex === questionData.correct) {
        // First time correct
        if (!completedQuestions[questionKey]) {
            addPointsForCorrectAnswer(); // Award points
            completedQuestions[questionKey] = true;
        }

        let nextQuestionNumber = currentQuestionNumber + 1;
        let housePrefix = (currentStory === 1) ? 'easyhouse' :
                          (currentStory === 2) ? 'ehouse' :
                          (currentStory === 3) ? 'medhouse' :
                          (currentStory === 4) ? 'mediumhouse' :
                          (currentStory === 5) ? 'hardhouse' : 'house';

        let nextHouseId = housePrefix + (nextQuestionNumber + 1);
        let totalStories = Object.keys(AllQuestions).length;
        let isLastStory = currentStory === totalStories;

        // ✅ Check for more questions in the current story
        if (nextQuestionNumber < AllQuestions[currentStory].length) {
            // Unlock next house
            let nextHouse = document.getElementById(nextHouseId);
            if (nextHouse && nextHouse.classList.contains('locked')) {
                nextHouse.classList.remove('locked');
                nextHouse.classList.add('unlocked');
            }

            showPopupMessage("✅ Correct! Next House Unlocked!",'');
            backToMap();

        } else {
            // ✅ All questions in current story completed!

            if (isLastStory) {
                // 🎉 FINAL STORY COMPLETED!
                showPopupMessage("🏆 Congratulations! You've completed the final story!", 'partypopper.gif');
                //add this partypopper.gif here
                setTimeout(() => {
                    backToMap();
                }, 2000);
            } else {
                // Unlock next story
                let nextCategoryHouse = document.getElementById('house' + (currentStory + 1));
                if (nextCategoryHouse && nextCategoryHouse.classList.contains('locked')) {
                    nextCategoryHouse.classList.remove('locked');
                    nextCategoryHouse.classList.add('unlocked');
                    showPopupMessage("🎉 Story completed! New story unlocked!",'');
                } else {
                    showPopupMessage("🎉 Story completed!");
                }
                backToMap();
            }
        }

    } else {
        // ❌ Wrong answer
        showPopupMessage("❌ Incorrect! Try again.",'');
        backToMap();
    }
}


function showPopupMessage(message, imageUrl = null) {
    // Create popup container
    const popup = document.createElement('div');
    popup.classList.add('popup-message');

    // Create message element
    const messageElement = document.createElement('p');
    messageElement.innerHTML = message;
    popup.appendChild(messageElement);

    // If image URL is provided, create and add image
    if (imageUrl) {
        const imageElement = document.createElement('img');
        imageElement.src = imageUrl;
        imageElement.alt = 'Celebration';
        imageElement.classList.add('popup-image'); // Add a class for proper styling
        popup.appendChild(imageElement);
    }

    // Append to body
    document.body.appendChild(popup);

    // Auto-remove popup after 3 seconds
    setTimeout(() => {
        popup.remove();
    }, 2000);
}


// ✅ Save progress
localStorage.setItem('completedQuestions', JSON.stringify(completedQuestions));

// Load progress on page load
let savedCompleted = localStorage.getItem('completedQuestions');
completedQuestions = savedCompleted ? JSON.parse(savedCompleted) : {};


function unlockFirstHouseInStory(storyNumber) {
    let firstHouseId = '';

    // Determine which house to unlock based on story number
    if (storyNumber === 1) {
        firstHouseId = 'easyhouse1'; // First story questions
    } else if (storyNumber === 2) {
        firstHouseId = 'ehouse1'; // Second story questions
    }
    else if (storyNumber === 3)
    {
        firstHouseId = 'medhouse1';
    }
    else if (storyNumber === 4)
    {
        firstHouseId = 'mediumhouse1';
    }
    else if (storyNumber === 5)
    {
        firstHouseId = 'hardhouse1';
    }

    // Unlock the house if found
    let firstHouse = document.getElementById(firstHouseId);
    if (firstHouse) {
        firstHouse.classList.remove('locked');
        firstHouse.classList.add('unlocked');
        console.log(`${firstHouseId} unlocked!`);
    } else {
        console.error(`House with ID ${firstHouseId} not found.`);
    }

    // Return to map
    backToMap();
}




function backToMap() {
    // Show only map
    document.getElementById('story').style.display = 'none';
    document.getElementById('question-content').style.display = 'none';
    document.getElementById('captured-image-wrapper').style.display = 'block';
    document.getElementById('leaderboard').style.display = 'block';
    document.getElementById('map').style.display = 'block'; // Assuming this is your map container
}


function unlockNextHouse() {
    let housePrefix = currentStory === 1 ? 'easyhouse' : 'ehouse'; // Decide house prefix based on story
    let nextHouseNumber = currentQuestionNumber + 1; // Next house number (since question numbers are zero-based)
    let nextHouseElement = document.getElementById(housePrefix + nextHouseNumber); // e.g., easyhouse2 or ehouse2

    if (nextHouseElement) {
        nextHouseElement.classList.remove('locked');
        nextHouseElement.classList.add('unlocked');
        console.log(housePrefix + nextHouseNumber + " unlocked!");

        // Set click event dynamically if not set already
        if (!nextHouseElement.getAttribute('onclick')) {
            nextHouseElement.setAttribute('onclick', 'startQuestions(' + currentStory + ',' + (nextHouseNumber - 1) + ')'); // -1 to match zero-based index
        }
    } else {
        console.log("Next house not found: " + housePrefix + nextHouseNumber);
    }
}


function unlockHouse(houseId) {
    const house = document.getElementById(houseId);
    if (house) {
        house.classList.remove('locked');
        house.classList.add('unlocked');
    } else {
        console.error('House with ID ' + houseId + ' not found.');
    }
}



// Story data
let stories = {
    1: `<h2>Elena's Favorite Place</h2>
        <p>Elena loved the forest behind her house. Every afternoon, she walked along the narrow path, enjoying the cool breeze and the fresh scent of pine. The tall trees formed a green roof above her, shading her from the sun. She listened to the rustling leaves and the chirping birds, feeling calm and happy.</p>
        <p>After the rain, the forest looked even more magical. Tiny water droplets sparkled on the leaves, and the small stream flowed faster, carrying twigs downstream. Elena sat on a large tree root, closing her eyes as she listened to the gentle sounds of nature. She always felt peaceful there.</p>
        <p>As the sun began to set, she smiled, knowing she would return again tomorrow to her favorite place.</p>
        <button onclick="backToMap()">Unlock Next House</button>`,

    2: `<h2>The Brave Little Squirrel</h2>
        <p>Once upon a time, in a lush, green forest, there lived a little squirrel named Sammy. Sammy wasn’t the biggest or the fastest squirrel, but he had something special—courage. One bright morning, a terrible storm cloud appeared, darkening the sky and sending a chilly wind across the forest. All the animals scurried to their homes, afraid of the heavy rain and loud thunder.</p>
        <p>But Sammy, instead of hiding like the others, decided to face the storm. "I may be small," he said to himself, "but I’m brave enough to help!" Sammy ran to the tallest oak tree, where a family of birds had made their nest. The wind was blowing so hard that the nest was shaking, and the baby birds were in danger of falling.</p>
        <p>Without thinking twice, Sammy climbed the tree, holding onto the branches like a rock climber gripping the cliffside. He carefully gathered the baby birds, one by one, and carried them safely to a lower, stronger branch. As the storm raged on, Sammy kept watch over the little birds, making sure they were safe.</p>
        <p>When the storm finally passed and the sun came out, the other animals came out of their shelters. They looked at Sammy with wide eyes. "How did you do it?" asked a curious rabbit. Sammy smiled and replied, "It’s not about being the biggest or the fastest; it’s about having the courage to do what’s right, even when it’s hard."</p>
        <p>From that day on, Sammy became a hero in the forest. All the animals learned that bravery isn't about size or strength—it's about having the heart to help others, no matter the challenge.</p>
        <button onclick="unlockFirstHouseInStory(2)">Unlock Next House</button>`,

    3: `<h2>The Mysterious Stranger</h2>
        <p>One cold, windy evening in the quiet village of Ravenswood, 12-year-old Emma spotted a mysterious person walking down the cobblestone road. The stranger wore a long cloak and carried a glowing lantern, which made Emma very curious since visitors hardly ever came to her village. She decided to follow them and watched as they entered the spooky, abandoned inn at the edge of town. Gathering all her courage, Emma peeked inside and saw the stranger looking at an old map. When they noticed her, the stranger introduced themselves as Elias and explained they were searching for something special—a magical gem called the Starstone that had been lost long ago.</p>
        <p>Excited to be part of an adventure, Emma offered to help. Together, they searched every corner of the dusty inn until Emma spotted a strange stone in the fireplace with odd markings on it. With Elias’s help, they pulled the stone loose and found a hidden compartment holding a glowing blue gem—the Starstone! Elias smiled and thanked Emma for being so brave and clever. They promised to keep the gem safe from harm and gave her a shiny silver coin as a gift to remember their adventure. As the sun rose over Ravenswood, Elias disappeared down the road, leaving Emma with a wonderful story to tell and the memory of an exciting night she would never forget.</p>
        <button onclick="unlockFirstHouseInStory(3)">Unlock Next House</button>`,

    4: `<h2>The Mystery of the Missing Trophy</h2>
        <p>The annual school quiz bee had just ended, and Mr. Cruz proudly held up the gleaming gold trophy. "This will stay in the display case for everyone to see," he announced. The students cheered, especially Ben, Mia, and Carlo, who were the top three finalists. After the event, the three students stayed behind for different reasons. Ben returned to the room to get his forgotten notebook, Mia searched for her lost bracelet, and Carlo was tasked with cleaning up the quiz materials. Everything seemed normal until the next morning when the principal discovered that the trophy was missing. With no signs of a break-in, suspicion fell on the last three students seen near the display case. The principal called them to her office to help solve the mystery.</p>
        <p>During the investigation, strange clues began to surface. Mia noticed a smear of shiny gold paint on a desk near the door. Carlo remembered hearing a loud clink as he left the room, but he didn’t think much of it at the time. Meanwhile, Ben, known for being forgetful, couldn’t recall if he locked the door after retrieving his notebook. The principal carefully questioned each student, trying to piece together the truth. Who could have taken the trophy, and why? With the clock ticking, it was up to the principal to use the clues and find the missing prize before the school day ended.</p>
        <button onclick="unlockFirstHouseInStory(4)">Unlock Next House</button>`,

    5: `<h2>The Broken Bracelet</h2>
        <p>Ella and Mia had been best friends since first grade. They did everything together eating lunch, working on projects, and playing after school. One day, Ella gave Mia a beautiful friendship bracelet with their initials on it. "This means we'll always be friends," Ella said with a smile. Mia promised to wear it every day. But a week later, during recess, Ella noticed Mia wasn’t wearing the bracelet. When she asked about it, Mia looked nervous and said, "I lost it... I’m really sorry." Ella felt hurt and wondered if their friendship still mattered to Mia.</p>
        <p>The next day, Ella stopped talking to Mia, thinking her friend didn’t care anymore. Mia felt sad but didn’t know how to fix things. After school, while cleaning her backpack, Mia found the bracelet tucked inside a hidden pocket. She ran to Ella’s house and held it up. "I found it! I never stopped caring—I was just scared you'd be mad," Mia said. Ella smiled and hugged her. "I’m sorry for getting upset. Our friendship is more important than a bracelet," she said. From that day on, they learned that honest communication and understanding could make their friendship even stronger.</p>
        <button onclick="unlockFirstHouseInStory(5)">Unlock Next House</button>`
};

let AllQuestions = {
    1: [ // Elena's Favorite Place
        { q: "Why did Elena enjoy going to the forest every afternoon?", options: ["She was looking for lost items.", "She wanted to collect leaves.", "She was waiting for someone.","She loved the fresh air and peaceful surroundings."], correct: 3 },
        { q: "Why did the forest look more magical after the rain?", options: ["The trees changed color.", "The raindrops on the leaves sparkled in the sunlight.", "The animals came out to play","The ground became dry."], correct: 1 },
        { q: "Why did Elena feel peaceful when she sat under the tree?", options: ["She enjoyed the sounds of nature.", "She liked watching animals run around.", "She was reading a book.","She was waiting for the rain to stop."], correct: 0 },
        { q: "What did Elena do as the sun began to set?", options: ["She ran home quickly.", "She picked flowers to take home.", "She smiled, knowing she would return.","She climbed a tree to watch the sunset."], correct: 2 },
        { q: "What type of text is this based on its purpose?", options: ["Descriptive – because it describes a place in detail.", "Expository – because it explains something.", "Narrative – because it tells a story.","Persuasive – because it convinces the reader of something."], correct: 0 }
    ],
    2: [ // The Brave Little Squirrel
        { q: "What made Sammy different from the other squirrels?", options: ["He was the fastest", "He was the biggest", "He was brave","He was the oldest"], correct: 2 },
        { q: "Why did Sammy decide to help the baby birds? ", options: ["He wanted to be a hero", "He was afraid of the storm", "He thought it would be fun","He had the courage to help, even in danger"], correct: 3 },
        { q: "What did Sammy carry the baby birds to?", options: ["A safe treehouse", "A lower, stronger branch", "A nearby cave","His own home"], correct: 1 },
        { q: "What lesson did the other animals learn from Sammy? ", options: ["Strength is the most important quality", "You should hide during a storm", "Bravery comes from having the heart to help","It’s best to avoid danger"], correct: 2 },
        { q: "What does Sammy’s story teach us?", options: ["To always hide from danger", "That being small means you can't help", "Courage and helping others are more important than size","To be afraid of storms"], correct: 2 }
    ],
    3: [ // The Mysterious Stranger
        { q: "How did Emma react when she saw the mysterious stranger?", options: ["She ran away in fear.", "She ignored them and went home.", "She became curious and decided to follow the stranger.","She told her parents about the stranger."], correct: 2 },
        { q: "How did Emma show bravery during her adventure?", options: ["By sneaking out of her house at night.", "By confronting the stranger when she saw them.", "By helping Elias search for the Starstone in a spooky inn.","By telling everyone in the village about her adventure."], correct: 2 },
        { q: "How does the setting of Ravenswood contribute to the adventure?", options: ["The setting has no impact on the adventure.", "The sunny weather makes it a pleasant place to visit.", "The quiet village with a spooky, abandoned inn creates an intriguing and unfamiliar environment, essential for drawing the protagonist into the adventure.","The friendly villagers offer helpful advice."], correct: 2 },
        { q: "Which of these actions directly led to the discovery of the Starstone?", options: ["Elias enters the spooky inn.", "Emma follows the stranger.", "Emma spotted the stone with odd markings.","Elias introduces himself to Emma."], correct: 2 },
        { q: "What lesson do you think Emma learned from her experience with Elias?", options: ["That even small acts of bravery can lead to big adventures.", "That it’s always safe to follow strangers into unknown places.", "That treasure is more important than friendship or kindness.","That staying at home is better than exploring new things."], correct: 0 }
    ],
    4: [ // The Mystery of the Missing Trophy
        { q: "If you were the principal, what would be the best first question to ask the three students?", options: ["What is your favorite subject?", "Why were you near the trophy?", "Did you win a prize in the quiz bee?","What time did you arrive at school?"], correct: 1 },
        { q: "Imagine you were Ben—how would you prove that you didn’t take the trophy??", options: ["Show your notebook to prove you forgot it.", "Say you were too busy to steal it.", "Blame Mia or Carlo instead.","Avoid answering any questions."], correct: 0 },
        { q: "If you found the trophy hidden in a locker, what should you do next?", options: ["Put it back in the display case quietly.", "Keep it to teach the thief a lesson.", "Tell the principal immediately.","Hide it somewhere else."], correct: 2 },
        { q: "What might be a possible reason someone took the trophy?", options: ["They wanted to keep it for themselves.", "They were jealous of the winners.", "They wanted to play a prank.","All of the above."], correct: 3 },
        { q: "If you were a detective, which clue would you investigate first?", options: ["The gold paint on the desk.", "The loud clink sound Carlo heard.", "Ben’s forgetfulness.","The display case lock."], correct: 0 }
    ],
    5: [ // The Broken Bracelet
        { q: "If you were Ella, how would you feel when Mia lost the bracelet?", options: ["Angry and unwilling to forgive.", "Hurt but willing to talk about it.", "Excited because you wanted a new bracelet.","Happy because it wasn’t important."], correct: 1 },
        { q: "If you were Mia, what could you have done when you lost the bracelet?", options: ["Ignore it and pretend nothing happened.", "Tell Ella the truth immediately.", "Blame someone else for losing it","Buy a new bracelet in secret."], correct: 1 },
        { q: "What lesson did Ella and Mia learn from this situation?", options: ["Friendship is only about gifts.", "It’s okay to keep secrets from friends.", "Talking openly helps solve problems.","Friends should never make mistakes."], correct: 2 },
        { q: "If you lost something important that a friend gave you, what is the best thing to do?", options: ["Keep it a secret and hope they don’t notice.", "Tell your friend and apologize.", "Replace it without telling them.","Stop talking to your friend."], correct: 1 },
        { q: "Why is communication important in a friendship?", options: ["It helps avoid misunderstandings.", "It allows you to gossip about others.", "It makes your friendship more popular.","It means you never have to apologize."], correct: 0 }
    ]
};

//#endregion


function goHome() {
    location.reload(); // Refresh the page
}
function back() {
    // Hide all containers
    const containers = document.querySelectorAll('.container');
    containers.forEach(container => container.classList.remove('active'));

    // Show only the welcome container
    const welcomePage = document.getElementById('welcome');
    welcomePage.classList.add('active');
}


</script>
</body>
</html>