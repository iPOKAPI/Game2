<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Story and Houses Game</title>
    <style>
        .house {
            display: inline-block;
            padding: 20px;
            margin: 10px;
            border: 2px solid black;
            cursor: pointer;
            border-radius: 10px;
            text-align: center;
            width: 100px;
        }
        .locked {
            background-color: gray;
        }
        .unlocked {
            background-color: lightgreen;
        }
        #story-content, #question-content {
            margin-top: 20px;
            display: none;
        }
        button {
            display: block;
            margin: 10px 0;
        }
    </style>
</head>
<body>

<h1>Story and Houses Game</h1>

<!-- Story House -->
<div id="story-house" class="house unlocked" onclick="startStory()">
    Story House
</div>

<!-- Question Houses -->
<div id="house1" class="house locked" onclick="startHouse(1)">House 1</div>
<div id="house2" class="house locked" onclick="startHouse(2)">House 2</div>
<div id="house3" class="house locked" onclick="startHouse(3)">House 3</div>
<div id="house4" class="house locked" onclick="startHouse(4)">House 4</div>
<div id="house5" class="house locked" onclick="startHouse(5)">House 5</div>

<!-- Story Content -->
<div id="story-content">
    <h2>Elena's Favorite Place</h2>
    <p>Elena loved the forest behind her house. Every afternoon, she walked along the narrow path, enjoying the cool breeze and the fresh scent of pine...</p>
    <button onclick="startQuestions()">Start Questions</button>
</div>

<!-- Questions Content -->
<div id="question-content"></div>

<script>
    let currentQuestionIndex = 0;
    let unlockedHouses = 0;

    let questions = [
        { q: "Why did Elena enjoy the forest?", options: ["The tall trees", "The narrow path", "The cool breeze"], correct: 2 },
        { q: "What sound did she enjoy?", options: ["Rustling leaves", "Animal noises", "People talking"], correct: 0 },
        { q: "Where did Elena sit?", options: ["A rock", "A tree root", "A wooden bench"], correct: 1 },
        { q: "When did the forest look magical?", options: ["At sunrise", "After rain", "During summer"], correct: 1 },
        { q: "How did Elena feel in the forest?", options: ["Bored", "Scared", "Peaceful"], correct: 2 }
    ];

    function startStory() {
        document.getElementById('story-content').style.display = 'block';
        document.getElementById('question-content').style.display = 'none';
    }

    function startHouse(house) {
        let houseElement = document.getElementById(`house${house}`);
        if (houseElement.classList.contains('locked')) {
            alert('This house is locked! Answer more questions to unlock it.');
        } else {
            alert(`Welcome to House ${house}!`);
        }
    }

    function startQuestions() {
        document.getElementById('story-content').style.display = 'none';
        document.getElementById('question-content').style.display = 'block';
        currentQuestionIndex = 0;
        unlockedHouses = 0;
        askQuestion();
    }

    function askQuestion() {
        let qContainer = document.getElementById('question-content');
        if (currentQuestionIndex < questions.length) {
            let qData = questions[currentQuestionIndex];
            let html = `<h3>${qData.q}</h3>`;
            qData.options.forEach((opt, index) => {
                html += `<button onclick="checkAnswer(${index})">${opt}</button>`;
            });
            qContainer.innerHTML = html;
        }
    }

    function checkAnswer(selected) {
        let correctAnswer = questions[currentQuestionIndex].correct;
        if (selected === correctAnswer) {
            alert("Correct! Well done!");
            unlockNextHouse();
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                askQuestion(); // Move to next question
            } else {
                document.getElementById('question-content').innerHTML = `<h3>All questions completed! All houses are now unlocked!</h3>`;
            }
        } else {
            alert("Wrong answer. Try again!"); // Stay on same question
        }
    }

    function unlockNextHouse() {
        unlockedHouses++;
        let houseToUnlock = document.getElementById(`house${unlockedHouses}`);
        if (houseToUnlock) {
            houseToUnlock.classList.remove('locked');
            houseToUnlock.classList.add('unlocked');
            alert(`House ${unlockedHouses} is now unlocked!`);
        }
    }
</script>

</body>
</html>
